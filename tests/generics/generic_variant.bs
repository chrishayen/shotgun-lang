// Test: Generic variant (Option<T>)

Option<T> :: variant {
    Some { value T }
    None
}

fn main {
    Option<int> x = Option<int>.None
    Option<int> y = Option<int>.Some { value: 42 }
    Option<str> z = Option<str>.Some { value: "hello" }

    int yval = match y using Option<int> {
        Some { value: v } -> v,
        None -> 0
    }

    str zval = match z using Option<str> {
        Some { value: v } -> v,
        None -> ""
    }

    if yval == 42 && zval == "hello" {
        print("generic variant test passed")
    } else {
        print("FAIL: values don't match")
    }
}
