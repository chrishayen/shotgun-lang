// Test: Generic type as field in non-generic struct

Option<T> :: variant {
    Some { value T }
    None
}

Person :: struct {
    name str
    age Option<int>
}

fn main() {
    Person p1 = Person {
        name: "Alice",
        age: Option<int>.Some { value: 30 }
    }

    Person p2 = Person {
        name: "Unknown",
        age: Option<int>.None
    }

    bool has_age1 = p1.age is Some
    bool has_age2 = p2.age is Some

    if p1.name == "Alice" && has_age1 && p2.name == "Unknown" && !has_age2 {
        print("generic in struct test passed")
    } else {
        print("FAIL: values incorrect")
    }
}
