// Array tests
uses: bootstrap.test

fn main {
    t := new_test()

    // Array literals
    int[] nums = [1, 2, 3, 4, 5]
    t.assert_eq_int(5, nums.len())
    t.assert_eq_int(1, nums[0])
    t.assert_eq_int(3, nums[2])
    t.assert_eq_int(5, nums[4])

    // String arrays
    str[] names = ["Alice", "Bob", "Charlie"]
    t.assert_eq_int(3, names.len())
    t.assert_eq_str("Alice", names[0])
    t.assert_eq_str("Bob", names[1])
    t.assert_eq_str("Charlie", names[2])

    // Array push
    int[] arr = [1]
    arr.push(2)
    arr.push(3)
    t.assert_eq_int(3, arr.len())
    t.assert_eq_int(1, arr[0])
    t.assert_eq_int(2, arr[1])
    t.assert_eq_int(3, arr[2])

    // Push to empty array
    str[] strs = []
    strs.push("hello")
    strs.push("world")
    t.assert_eq_int(2, strs.len())
    t.assert_eq_str("hello", strs[0])
    t.assert_eq_str("world", strs[1])

    // Array modification
    int[] mutable = [1, 2, 3]
    mutable[1] = 99
    t.assert_eq_int(99, mutable[1])

    // For loop iteration
    int[] values = [10, 20, 30]
    int sum = 0
    for v in values {
        sum += v
    }
    t.assert_eq_int(60, sum)

    // String iteration
    int count = 0
    str[] words = ["one", "two", "three"]
    for w in words {
        count += 1
    }
    t.assert_eq_int(3, count)

    t.summary()
}
